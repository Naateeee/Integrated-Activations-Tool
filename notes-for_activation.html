<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>For Activation | Integrated Activations Tool</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- App favicon -->
    <link rel="shortcut icon" href="assets/images/favicon.ico">

    <!-- App css -->
    <link href="assets/css/icons.min.css" rel="stylesheet" type="text/css">
    <link href="assets/css/app.min.css" rel="stylesheet" type="text/css" id="light-style">
    <link href="assets/css/app-dark.min.css" rel="stylesheet" type="text/css" id="dark-style">
</head>
<body class="loading" data-layout-config='{"leftSideBarTheme":"default","layoutBoxed":false, "leftSidebarCondensed":false, "leftSidebarScrollable":false,"darkMode":false, "showRightSidebarOnStart": false}'>
    <!-- start page -->
    <div class="wrapper">
        <!-- ========== Left Sidebar Start ========== -->
        <div class="leftside-menu">

            <!-- LOGO light -->
            <a href="index.html" class="logo text-center logo-light">
                <span class="logo-lg">
                    <img src="assets/images/cignal-logo-nobg.png" alt="" height="46">
                </span>
                <span class="logo-sm">
                    <img src="assets/images/cignal-logo-nobg.png" alt="" height="35">
                </span>
            </a>

            <div class="h-100" id="leftside-menu-container" data-simplebar="">

                <!--- Sidemenu -->
                <ul class="side-nav">

                    <li class="side-nav-title side-nav-item">Navigation</li>

                    <li class="side-nav-item">
                        <a data-bs-toggle="collapse" href="#sidebarDashboards" aria-expanded="false" aria-controls="sidebarDashboards" class="side-nav-link">
                            <i class="uil-home-alt"></i>
                            <span> Dashboards </span>
                            <span class="menu-arrow"></span>
                        </a>
                    </li>

                    <li class="side-nav-item">
                        <a data-bs-toggle="collapse" href="#sidebarNotesGenerator" aria-expanded="false" aria-controls="sidebarNotesGenerator" class="side-nav-link">
                            <i class="uil-edit"></i>
                            <span> Notes Generator </span>
                            <span class="menu-arrow"></span>
                        </a>
                        <div class="collapse" id="sidebarNotesGenerator">
                            <ul class="side-nav-second-level">
                                <li><a href="notes-for_activation.html">For Activation</a></li>
                                <li><a href="notes-unsuccessful.html">Unsuccessful</a></li>
                                <li><a href="notes-with_compliance.html">With Compliance</a></li>
                                <li><a href="notes-docs_and_sup_for_approval.html">Docs and Sup Approval</a></li>
                                <li><a href="notes-pldt_and_radius.html">PLDT and Radius</a></li>
                                <li><a href="notes-demo_content_hrh.html">Demo, Content, HRH</a></li>
                                <li><a href="notes-vsat.html">VSAT Activation</a></li>
                                <li><a href="notes-other_ticket_assignment.html">Other Ticket Assignment</a></li>
                            </ul>
                        </div>
                    </li>

                    <li class="side-nav-item">
                        <a href="utilities-hpa_calculator.html" class="side-nav-link">
                            <i class="uil-calcualtor"></i>
                            <span> HPA Calculator </span>
                        </a>
                    </li>

                    <li class="side-nav-item">
                        <a href="utilities-email_template.html" class="side-nav-link">
                            <i class="uil-envelope-alt"></i>
                            <span> Email Template </span>
                        </a>
                    </li>

                    <li class="side-nav-item">
                        <a href="utilities-billing_cycle.html" class="side-nav-link">
                            <i class="uil-calendar-alt"></i>
                            <span> Billing Cycle </span>
                        </a>
                    </li>

                    <li class="side-nav-item">
                        <a href="plugins-promo_matrix.html" class="side-nav-link">
                            <i class="uil-store"></i>
                            <span> Promo Matrix </span>
                        </a>
                    </li>

                    <li class="side-nav-item">
                        <a href="plugins-channel_lineup.html" class="side-nav-link">
                            <i class="uil-tv-retro"></i>
                            <span> Channel Line-up </span>
                        </a>
                    </li>

                    <li class="side-nav-item">
                        <a href="plugins-id_only.html" class="side-nav-link">
                            <i class="uil-medal"></i>
                            <span> ID Only List </span>
                        </a>
                    </li>

                    <li class="side-nav-item">
                        <a data-bs-toggle="collapse" href="#sidebarListOfBarangay" aria-expanded="false" aria-controls="sidebarListOfBarangay" class="side-nav-link">
                            <i class="uil-map"></i>
                            <span> List of Barangay </span>
                            <span class="menu-arrow"></span>
                        </a>
                        <div class="collapse" id="sidebarListOfBarangay">
                            <ul class="side-nav-second-level">
                                <li><a href="plugins-caloocan.html">Barangay in Caloocan</a></li>
                                <li><a href="plugins-manila.html">Barangay in Manila</a></li>
                            </ul>
                        </div>
                    </li>

                    <li class="side-nav-item">
                        <a href="plugins-mdu.html" class="side-nav-link">
                            <i class="uil-building"></i>
                            <span> MDU List </span>
                        </a>
                    </li>
                </ul> <!-- end Sidemenu -->

                <div class="clearfix"></div>

            </div>

        </div> <!-- end left Sidebar -->

        <!-- ============================================================== -->
        <!-- Start Page Content here -->
        <!-- ============================================================== -->

        <div class="content-page">
            <div class="content">

                <!-- Topbar Start -->
                <div class="navbar-custom">
                    <ul class="list-unstyled topbar-menu float-end mb-0">
                        <li  class="dropdown notification-list">
                            <a class="nav-link dropdown-toggle nav-user arrow-none me-0" data-bs-toggle="dropdown" href="#" role="button" aria-haspopup="false" aria-expanded="false">

                                <script>
                                    window.onload = function() {
                                        const userData = localStorage.getItem("loggedInUser");

                                        if (!userData) {
                                            window.location.href = "login.html";
                                            return;
                                        }

                                        try {
                                            const user = JSON.parse(userData);

                                            if (!user.firstName || !user.lastName || !user.department || !user.avatar) {
                                                throw new Error("Invalid user data");
                                            }

                                            document.getElementById("userName").textContent = `${user.firstName} ${user.lastName}`;
                                            document.getElementById("userDepartment").textContent = user.department;

                                            const avatarImg = document.getElementById("userAvatar");

                                            if (avatarImg && user.avatar) {
                                                avatarImg.src = user.avatar;
                                            }

                                        } catch (error) {
                                            console.error("Error parsing user data:", error);
                                            localStorage.removeItem("loggedInUser"); // Clear invalid data
                                            window.location.href = "login.html";
                                        }
                                    };
                                </script>

                                <span class="account-user-avatar">
                                    <img id="userAvatar" src="assets/images/users/undraw_male-avatar_zkzx.svg" alt="user-image" class="rounded-circle">
                                </span>
                                <span>
                                    <span id="userName" class="account-user-name text-dark"></span>
                                    <span id="userDepartment" class="account-position text-dark"></span>
                                </span>
                            </a>

                            <div class="dropdown-menu dropdown-menu-end dropdown-menu-animated topbar-dropdown-menu profile-dropdown">
                                <div class=" dropdown-header noti-title">
                                    <h6 class="text-overflow m-0">Welcome !</h6>
                                </div>

                                <a href="javascript:void(0);" class="dropdown-item notify-item">
                                    <i class="mdi mdi-account-circle me-1"></i>
                                    <span>My Account</span>
                                </a>

                                <a href="javascript:void(0);" class="dropdown-item notify-item">
                                    <i class="mdi mdi-account-edit me-1"></i>
                                    <span>Settings</span>
                                </a>

                                <a href="javascript:void(0);" class="dropdown-item notify-item">
                                    <i class="mdi mdi-lifebuoy me-1"></i>
                                    <span>Support</span>
                                </a>

                                <a href="javascript:void(0);" class="dropdown-item notify-item" onclick="logout()">
                                    <i class="mdi mdi-logout me-1"></i>
                                    <span>Logout</span>
                                </a>

                                <script>
                                    function logout() {
                                        localStorage.removeItem('loggedInUser');
                                        window.location.href = 'login.html';
                                    }
                                </script>

                            </div>
                        </li>
                    </ul>
                    <button class="button-menu-mobile open-left">
                        <i class="mdi mdi-menu"></i>
                    </button>
                </div> <!-- end Topbar -->
                    
                <!-- Container -->
                <div class="container-fluid">

                    <!-- start page title -->
                    <div class="row">
                        <div class="col-12">
                            <div class="page-title-box">
                                <div class="page-title-right">
                                    <ol class="breadcrumb m-0">
                                        <li class="breadcrumb-item"></i><a href="index.html">Integrateds Activation Tool</a></li>
                                        <li class="breadcrumb-item"></i><a href="#">Notes Generator</a></li>
                                        <li class="breadcrumb-item fw-bold">For Activation</li>
                                    </ol>
                                </div>
                                <h5 class="page-title text-dark">SUCCESSFUL CALL OUT FOR ACTIVATION</h5>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-12">
                            <div class="card border">
                                <div class="card-body">
                                    <div class="row">
                                        <div class="col-6">
                                            <h4 class="header-title mb-3 text-dark">Call Out details</h4>

                                            <form class="form-horizontal">
                                                <div class="row mb-2">
                                                    <label class="col-4 col-form-label text-md-end text-danger">Phone Verification:</label>
                                                    <div class="col-8">
                                                        <select class="form-select text-dark" id="phoneVerification_input" oninput="forActivation()">
                                                            <option></option>
                                                            <option>Successful Call Out using Avaya</option>
                                                            <option>Successful Call Out using Dialer</option>
                                                            <option>Successful Call Out using SU</option>
                                                        </select>
                                                    </div>
                                                </div>
                                                <div class="row mb-2">
                                                    <label class="col-4 col-form-label text-md-end text-danger">1st Party Call Out:</label>
                                                    <div class="col-8">
                                                    <select class="form-select text-dark" id="PID_input" oninput="forActivation()">
                                                            <option></option>
                                                            <option>Not Applicable</option>
                                                            <option>Customer</option>
                                                            <option>Husband</option>
                                                            <option>Wife</option>
                                                            <option>Others (Son/Daughter etc.)</option>
                                                            <option>Secondary Contact Person</option>
                                                        </select>
                                                    </div>
                                                </div>
                                                <div class="row mb-2">
                                                    <label class="col-4 col-form-label text-md-end text-danger">Items Discussed:</label>
                                                    <div class="col-8">
                                                        <input class="form-control text-dark" id="itemsDiscussed_input" oninput="forActivation()">
                                                    </div>
                                                </div>
                                                <br>

                                                <div class="dropdown float-end">
                                                    <a href="#" class="dropdown-toggle card-drop text-dark" data-bs-toggle="dropdown" aria-expanded="false"></a>
                                                    <div class="dropdown-menu dropdown-menu-end">
                                                        <a class="dropdown-item" role="button" onclick="copiedOptionHPA('PLAN AVAIL')"><i class="uil-shopping-trolley text-danger"></i>
                                                            <span class="small text-dark">&nbsp;Plan Avail</span></a>
                                                        <a class="dropdown-item" role="button" onclick="copiedOptionHPA('290 1 BOX')"><i class="uil-shopping-trolley text-danger"></i>
                                                            <span class="small text-dark">&nbsp;290 1 Box</span></a>
                                                        <a class="dropdown-item" role="button" onclick="copiedOptionHPA('520 3 BOXES')"><i class="uil-shopping-trolley text-danger"></i>
                                                            <span class="small text-dark">&nbsp;520 3 Boxes</span></a>
                                                        <a class="dropdown-item" role="button" onclick="copiedOptionHPA('1990 4 BOXES')"><i class="uil-shopping-trolley text-danger"></i>
                                                            <span class="small text-dark">&nbsp;1990 4 Boxes</span></a>
                                                    </div>
                                                </div>

                                                <h4 class="header-title mb-3 text-dark">Activation details</h4>
                                                <div class="row mb-2">
                                                    <label class="col-4 col-form-label text-md-end text-danger">Highest Plan:</label>
                                                    <div class="col-8">
                                                        <input class="form-control text-dark" id="HPA_input" oninput="forActivation()">
                                                    </div>
                                                </div>
                                                <div class="row mb-3">
                                                    <label class="col-4 col-form-label text-md-end text-danger">Ticket Number:</label>
                                                    <div class="col-8">
                                                        <input class="form-control text-dark" id="IRN_input" oninput="forActivation()">
                                                    </div>
                                                </div>
                                            </form>

                                        </div>

                                        <div class="col-6">
                                            <h4 class="header-title mb-3 text-dark">Notes Result</h4>
                                            <form>
                                                <div class="mb-3">
                                                    <textarea style="height: 300px; color: black; resize: none;" class="form-control" id="notes_value" readonly></textarea>
                                                </div>
                                            </form>
                                        </div>

                                        <div class="col-12">
                                            <div class="row">
                                                <div class="col-6 d-flex flex-row justify-content-end">
                                                    <div class="btn-group">
                                                        <button class="btn btn-danger btn-sm" id="clear_button" onclick="clearNotes()"><i class="uil-trash-alt"></i>&nbsp;clear fields</button>
                                                    </div>
                                                </div>
                                                <div class="col-6 d-flex flex-row justify-content-end">
                                                    <div class="btn-group">
                                                        <button class="btn btn-success btn-sm" id="copy_button" onclick="copyNotes()"><i class="uil-copy"></i>&nbsp;copy text</button>
                                                        <button class="btn btn-success btn-sm dropdown-toggle dropdown-toggle-split" id="copySplit_button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span class="visually-hidden">Toggle Dropdown</span></button>
                                                        <div class="dropdown-menu border-success">
                                                            <a class="dropdown-item small text-success" id="calloutButtonForActivation" onclick="copyCallOutNotes()"><i class="uil-copy"></i>&nbsp;Call Out</a>
                                                            <a class="dropdown-item small text-success" id="activationButtonForActivation" onclick="copyActivationNotes()"><i class="uil-copy"></i>&nbsp;Activation</a>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <script>
                                            function checkNotesResult() {
                                                var notesResult = document.getElementById("notes_value").value;
                                                var clearButton = document.getElementById("clear_button");
                                                var copyButton = document.getElementById("copy_button");
                                                var copySplitButton = document.getElementById("copySplit_button");

                                                var isEmpty = notesResult === '';

                                                clearButton.disabled = isEmpty;
                                                copyButton.disabled = isEmpty;
                                                copySplitButton.disabled = isEmpty;
                                                copySplitButton.style.display = isEmpty ? 'none' : 'inline'; // Hide the element
                                            }

                                            checkNotesResult();
                                            document.getElementById("notes_value").addEventListener("input", checkNotesResult);

                                            function forActivation() {
                                                var phoneVerification = document.getElementById("phoneVerification_input").value;
                                                var PID = document.getElementById("PID_input").value;
                                                var itemsDiscussed = document.getElementById("itemsDiscussed_input").value;
                                                var HPA = document.getElementById("HPA_input").value;
                                                var IRN = document.getElementById("IRN_input").value;
                                                var notesValue = document.getElementById("notes_value");

                                                let notes = [];

                                                let activationNotes = [];
                                                if (phoneVerification) activationNotes.push(`PHONE VERIFICATION: ${phoneVerification}`);
                                                if (PID) activationNotes.push(`1st PARTY CALL OUT: ${PID}`);
                                                if (itemsDiscussed) activationNotes.push(`ITEMS DISCUSSED: ${itemsDiscussed}`);

                                                if (activationNotes.length) {
                                                    notes.push(...activationNotes, ``);
                                                }

                                                let activationDetails = [];
                                                if (HPA) activationDetails.push(`HIGHEST PLAN: ${HPA}`);
                                                if (IRN) activationDetails.push(`TICKET NUMBER: ${IRN}`);

                                                if (activationDetails.length) {
                                                    notes.push(`ACTIVATION DETAILS: `);
                                                    notes.push(...activationDetails, ``);
                                                }

                                                notesValue.value = notes.length ? notes.join('\n') : '';
                                                notesValue.style.fontFamily = 'Courier New, Courier, monospace';
                                                notesValue.style.fontSize = '1.05rem';
                                                checkNotesResult();
                                            }

                                            function clearNotes() {
                                                var fields = [
                                                    document.getElementById("phoneVerification_input"),
                                                    document.getElementById("PID_input"),
                                                    document.getElementById("itemsDiscussed_input"),
                                                    document.getElementById("HPA_input"),
                                                    document.getElementById("IRN_input")
                                                ];

                                                fields.forEach(field => field.value = '');

                                                var notesValue = document.getElementById("notes_value");
                                                notesValue.value = '';

                                                checkNotesResult();
                                            }

                                            function copyNotes() {
                                                var notesValue = document.getElementById("notes_value");
                                                notesValue.select();
                                                notesValue.setSelectionRange(0, 99999);
                                                document.execCommand("copy");
                                            }

                                            function copiedOptionHPA(option) {
                                                var HPA = document.getElementById("HPA_input");
                                                HPA.value = option;
                                                forActivation();
                                            }

                                            function copyCallOutNotes() {
                                                var phoneVerification = document.getElementById("phoneVerification_input").value;
                                                var PID = document.getElementById("PID_input").value;
                                                var itemsDiscussed = document.getElementById("itemsDiscussed_input").value;
                                                var notesValue = document.getElementById("notes_value").value;

                                                var callOutValue = `PHONE VERIFICATION: ${phoneVerification}\n1st PARTY CALL OUT: ${PID}\nITEMS DISCUSSED: ${itemsDiscussed}`;
                                                navigator.clipboard.writeText(callOutValue)
                                                .then(() => {
                                                    var startPos = notesValue.indexOf('PHONE VERIFICATION: ');
                                                    var endPos = startPos + callOutValue.length;
                                                    document.getElementById("notes_value").focus();
                                                    document.getElementById("notes_value").setSelectionRange(startPos, endPos);
                                                })
                                                .catch(error => console.error('Error copying text: ', error));
                                            }

                                            function copyActivationNotes() {
                                                var HPA_input = document.getElementById("HPA_input").value;
                                                var IRN_input = document.getElementById("IRN_input").value;
                                                var notesValue = document.getElementById("notes_value").value;

                                                var activationValue = `ACTIVATION DETAILS: \nHIGHEST PLAN: ${HPA_input}\nTICKET NUMBER: ${IRN_input}`;
                                                navigator.clipboard.writeText(activationValue)
                                                .then(() => {
                                                    var startPos = notesValue.indexOf('ACTIVATION DETAILS: ');
                                                    var endPos = startPos + activationValue.length;
                                                    document.getElementById("notes_value").focus();
                                                    document.getElementById("notes_value").setSelectionRange(startPos, endPos);
                                                })
                                                .catch(error => console.error('Error copying text: ', error));
                                            }
                                        </script>

                                    </div> <!-- end row -->

                                </div> <!-- end card-body -->
                            </div> <!-- end card -->
                        </div> <!-- end col -->
                    </div> <!-- end row -->

                </div> <!-- end container -->

            </div> <!-- end content -->

            <!-- Footer -->
            <footer class="footer">
                <div class="container-fluid">
                    <div class="row small">
                        <div class="col-md-6">
                            <script>document.write(new Date().getFullYear())</script> &copy; Integrated Activations Tool</span>
                        </div>
                        <div class="col-md-6">
                            <div class="text-md-end footer-links d-none d-md-block">
                                <a href="javascript: void(0);">Privacy Policy</a>
                                <a href="javascript: void(0);">Terms & Condition</a>
                                <a href="javascript: void(0);">About</a>
                            </div>
                        </div>
                    </div>
                </div>
            </footer>

        </div>

        <!-- ============================================================== -->
        <!-- End Page content -->
        <!-- ============================================================== -->

    </div> <!-- end wrapper -->

    <div class="rightbar-overlay"></div>
        <!-- /End-bar -->

    <script src="assets/js/vendor.min.js"></script>
    <script src="assets/js/app.min.js"></script>
    <script src="functions/base.js"></script>

</body>
</html>
